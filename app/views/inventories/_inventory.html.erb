<tr>
  <td><%= inventory.code %></td>
  <td class="right"><%= inventory.volume %> / <strong><%= inventory.activated_volume %></strong></td>
  <td class="right"><%= number_with_precision inventory.total_cost, :precision => 3 %></td>
  <td class="right"><%= number_with_precision inventory.total_cost / inventory.volume, :precision => 3 %></td>
  <td class="right">
    <!-- Button trigger modal -->
    <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#myModalBuy-<%= inventory.code %>">
      BUY
    </button>
    <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#myModalSell-<%= inventory.code %>">
      SELL
    </button>
  </td>
</tr>


<!-- Modal Buy -->
<div class="modal fade" id="myModalBuy-<%= inventory.code %>" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <%= form_for(@order) do |f| %>
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title" id="myModalLabel">Buy <%= inventory.code %></h4>
        </div>
        <div class="modal-body">
          <%= render 'shared/error_messages', object: f.object %>
          <div class="row">
            <div class="col-md-4">
              <%= f.label :Security_Code %>
              <%= f.text_field :code, :value => inventory.code, :disabled => true %>
            </div>
            <div class="col-md-4">
              <%= f.label :Price %>
              <%= f.number_field :price, :step => 0.01, :min => 0.01 %>
            </div>
            <div class="col-md-4">
              <%= f.label :Volume %>
              <%= f.number_field :volume, :step => 0, :min => 1, :value => 1 %>
              <%= f.hidden_field :order_type, :value => 'buy' %>
              <%= f.hidden_field :code, :value => inventory.code %>
              <%= f.hidden_field :account_id, :value => @account.id %>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <div class="btn-group" data-toggle="buttons" style="margin-right: 55%">
            <label class="btn btn-primary active">
              <input type="radio" name="options" id="option1" autocomplete="off" checked> Bunch
            </label>
            <label class="btn btn-primary">
              <input type="radio" name="options" id="option2" autocomplete="off"> Real Time
            </label>
          </div>
          <%= content_tag :button, type: "submit", name: "commit", class: "btn btn-primary" do %>
            Submit
          <% end %>
        </div>
      <% end %>
    </div>
  </div>
</div>

<!-- Modal Sell -->
<div class="modal fade" id="myModalSell-<%= inventory.code %>" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="myModalLabel">Sell <%= inventory.code %></h4>
      </div>
      <%= form_for(@order) do |f| %>
        <div class="modal-body">
          <%= render 'shared/error_messages', object: f.object %>
          <div class="row">
            <div class="col-md-4">
              <%= f.label :Security_Code %>
              <%= f.text_field :code, :value => inventory.code, :disabled => true %>
            </div>
            <div class="col-md-4">
              <%= f.label :Price %>
              <%= f.number_field :price, :step => 0.01, :min => 0.01 %>
            </div>
            <div class="col-md-4">
              <%= f.label :Volume %>
              <%= f.number_field :volume, :step => 0, :in => 1..inventory.activated_volume, :value => inventory.activated_volume %>
              <%= f.hidden_field :order_type, :value => 'sell' %>
              <%= f.hidden_field :code, :value => inventory.code %>
              <%= f.hidden_field :account_id, :value => @account.id %>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <div class="btn-group" data-toggle="buttons" style="margin-right: 55%">
            <label class="btn btn-primary active">
              <input type="radio" name="options" id="option1" autocomplete="off" checked> Bunch
            </label>
            <label class="btn btn-primary">
              <input type="radio" name="options" id="option2" autocomplete="off"> Real Time
            </label>
          </div>
          <%= content_tag :button, type: "submit", name: "commit", class: "btn btn-primary" do %>
            Submit
          <% end %>
        </div>
      <% end %>
    </div>
  </div>
</div>
